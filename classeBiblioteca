import java.util.ArrayList;
import java.util.List;

public class classeBiblioteca {

    private List<classeMaterial> materiais;


    public classeBiblioteca() {
        this.materiais = new ArrayList<>();
    }


    public void adicionarMaterial(classeMaterial material) {
        if (material == null) {
            System.out.println("Material não pode ser nulo.");
            return;
        }

        if (material.getTitulo() == null || material.getTitulo().isEmpty() ||
                material.getAutor() == null || material.getAutor().isEmpty()) {
            System.out.println("Por favor, preencha todos os campos obrigatórios.");
            return;
        }

        if (material instanceof classeLivro) {
            classeLivro livro = (classeLivro) material;
            if (livro.getGenero() == null) {
                System.out.println("Gênero do livro é obrigatório.");
                return;
            }
        } else if (material instanceof classeRevista) {
            classeRevista revista = (classeRevista) material;
            if (revista.getNumero() <= 0) {
                System.out.println("Número da revista deve ser positivo.");
                return;
            }
        }

        materiais.add(material);
        System.out.println("Novo material cadastrado com sucesso!");
        System.out.println("Tipo: " + material.getClass().getSimpleName());
    }


    public void pesquisarPorTitulo(String titulo) {
        boolean encontrado = false;
        for (classeMaterial material : materiais) {
            if (material.getTitulo().equalsIgnoreCase(titulo)) {
                System.out.println(material);
                encontrado = true;
            }
        }
        if (!encontrado) {
            System.out.println("Nenhum material encontrado com o título: " + titulo);
        }
    }


    public void excluirMaterial(String titulo) {
        boolean removido = materiais.removeIf(material -> material.getTitulo().equalsIgnoreCase(titulo));
        if (removido) {
            System.out.println("Material excluído com sucesso!");
        } else {
            System.out.println("Nenhum material encontrado com o título: " + titulo);
        }
    }


    public void listarMateriais() {
        if (materiais.isEmpty()) {
            System.out.println("Nenhum material cadastrado na biblioteca.");
        } else {
            System.out.println("=== Materiais da Biblioteca ===");
            for (classeMaterial material : materiais) {
                System.out.println(material);
            }
        }
    }
}
