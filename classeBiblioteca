import java.util.ArrayList;
import java.util.List;

public class classeBiblioteca {
    private List<classeMaterial> materiais;

    public classeBiblioteca() {
        this.materiais = new ArrayList<>();
        System.out.println("ğŸ“š Biblioteca criada com sucesso! Pronta para receber novos materiais! ğŸ“š");
    }

    public void adicionarMaterial(classeMaterial material) {
        if (material == null) {
            System.out.println("âŒ Oops! Material nÃ£o pode ser nulo. Tente novamente! âŒ");
            return;
        }

        if (material.getTitulo() == null || material.getTitulo().isEmpty() ||
                material.getAutor() == null || material.getAutor().isEmpty()) {
            System.out.println("âš ï¸ AtenÃ§Ã£o! Por favor, preencha todos os campos obrigatÃ³rios. âš ï¸");
            return;
        }

        if (material instanceof classeLivro) {
            classeLivro livro = (classeLivro) material;
            if (livro.getGenero() == null) {
                System.out.println("âŒ Oops! GÃªnero do livro Ã© obrigatÃ³rio. âŒ");
                return;
            }
        } else if (material instanceof classeRevista) {
            classeRevista revista = (classeRevista) material;
            if (revista.getNumero() <= 0) {
                System.out.println("âŒ Oops! NÃºmero da revista deve ser positivo. âŒ");
                return;
            }
        }

        materiais.add(material);
        System.out.println("ğŸ‰ Novo material cadastrado com sucesso! ğŸ‰");
        System.out.println("ğŸ“Œ Tipo: " + material.getClass().getSimpleName());
        System.out.println("ğŸ“Œ TÃ­tulo: " + material.getTitulo());
    }

    public void pesquisarPorTitulo(String titulo) {
        boolean encontrado = false;
        System.out.println("\nğŸ” Buscando por: " + titulo);
        for (classeMaterial material : materiais) {
            if (material.getTitulo().equalsIgnoreCase(titulo)) {
                System.out.println("âœ… Encontrado: " + material);
                encontrado = true;
            }
        }
        if (!encontrado) {
            System.out.println("ğŸ” Nenhum material encontrado com o tÃ­tulo: " + titulo);
        }
    }

    public void excluirMaterial(String titulo) {
        boolean removido = materiais.removeIf(material -> material.getTitulo().equalsIgnoreCase(titulo));
        if (removido) {
            System.out.println("ğŸ—‘ï¸ Material '" + titulo + "' excluÃ­do com sucesso! ğŸ—‘ï¸");
        } else {
            System.out.println("ğŸ” Nenhum material encontrado com o tÃ­tulo: " + titulo);
        }
    }

    public void listarMateriais() {
        if (materiais.isEmpty()) {
            System.out.println("ğŸ“­ Nenhum material cadastrado na biblioteca. Que tal adicionar o primeiro? ğŸ“­");
        } else {
            System.out.println("\nğŸ“š=== Materiais da Biblioteca ===");
            System.out.println("ğŸ“š Total de itens: " + materiais.size());
            for (classeMaterial material : materiais) {
                System.out.println("ğŸ“Œ " + material);
            }
            System.out.println("ğŸ“š=============================");
        }
    }
}
