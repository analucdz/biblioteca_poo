import java.util.ArrayList;
import java.util.Scanner;

public class BibliotecaTurbo {
    public static void main(String[] args) {

        Scanner scanner = new Scanner(System.in);
        ArrayList<String> titulos = new ArrayList<>();
        ArrayList<String> autores = new ArrayList<>();


        int opcao;

        do {
            exibirMenu();

            try {
                opcao = scanner.nextInt();
                scanner.nextLine();
            } catch (Exception e) {
                System.out.println("\n‚ö†Ô∏è Ei, s√≥ pode n√∫mero de 1 a 5! Tenta de novo...");
                scanner.nextLine();
                opcao = 0;
                continue;
            }


            switch (opcao) {

                case 1:  // ‚ûï ADICIONAR LIVRO
                    System.out.print("\nüìù Informe o t√≠tulo do livro: ");
                    String titulo = scanner.nextLine().toUpperCase();

                    if (titulo.isEmpty()) {
                        System.out.println("\nü§î Cad√™ o t√≠tulo? N√£o pode ser vazio n√£o, hein!");
                        break;
                    }

                    System.out.print("üìù Informe o autor(a): ");
                    String autor = scanner.nextLine().toUpperCase();

                    if (autor.isEmpty()) {
                        System.out.println("\nüôÑ Autor desconhecido? Coloca 'An√¥nimo' pelo menos!");
                        break;
                    }

                    titulos.add(titulo);
                    autores.add(autor);
                    System.out.println("\n‚úÖ SHOW! '" + titulo + "' foi adicionado com sucesso!");
                    System.out.println("   Autor(a): " + autor);
                    System.out.println("   Agora voc√™ tem " + titulos.size() + " livro(s) na biblioteca!");
                    break;



                case 2:  // üîç PESQUISAR LIVRO
                    if (titulos.isEmpty()) {
                        System.out.println("\nüìö A biblioteca est√° vazia...que tal adicionar um novo livro? ");
                        break;
                    }

                    System.out.print("\nüîç Qual livro estais procurando? ");
                    String busca = scanner.nextLine().toLowerCase();

                    boolean encontrou = false;
                    System.out.println("\n Deixa eu ver...");

                    for (int i = 0; i < titulos.size(); i++) {
                        if (titulos.get(i).toLowerCase().contains(busca)) {
                            System.out.println("\nüéâ ACHAMOS! üéâ");
                            System.out.println("T√≠tulo: " + titulos.get(i));
                            System.out.println("‚úçAutor: " + autores.get(i));
                            System.out.println("Posi√ß√£o na estante: " + (i + 1));
                            System.out.println("-----------------------------");
                            encontrou = true;
                        }
                    }

                    if (!encontrou) {
                        System.out.println("\nüòµ‚Äçüí´ Puts... Nada encontrado com '" + busca + "'");
                        System.out.println("   Dica: Tenta escrever s√≥ parte do nome ou verificar se digitou certo!");
                    } else {
                        System.out.println("üîé Busca finalizada! :D ");
                    }
                    break;



                case 3:  // üóëÔ∏è REMOVER LIVRO
                    if (titulos.isEmpty()) {
                        System.out.println("\nüìö N√£o tem nada para remover! A biblioteca t√° zerada!");
                        break;
                    }

                    System.out.print("\nüóëÔ∏è Qual livro quer remover? (digite o t√≠tulo exato) ");
                    String tituloRemover = scanner.nextLine().toUpperCase();

                    int index = -1;
                    for (int i = 0; i < titulos.size(); i++) {
                        if (titulos.get(i).equals(tituloRemover)) {
                            index = i;
                            break;
                        }
                    }

                    if (index != -1) {
                        String livroRemovido = titulos.get(index);
                        titulos.remove(index);
                        autores.remove(index);
                        System.out.println("\nüí• *POOF* üí•");
                        System.out.println("   '" + livroRemovido + "' foi deletado com sucesso!");
                        System.out.println("   Agora restam " + titulos.size() + " livro(s) na biblioteca.");
                    } else {
                        System.out.println("\nü§∑‚Äç‚ôÇÔ∏è Opa... Esse livro n√£o t√° aqui n√£o!");
                        System.out.println("   Dica: Digite o t√≠tulo exato como aparece na lista (use a op√ß√£o 4 pra ver)");
                    }
                    break;


                case 4:  // üìú LISTAR TODOS
                    if (titulos.isEmpty()) {
                        System.out.println("\nüìö Opra√≠...nenhum livro ainda?!");
                        System.out.println("   Vai l√°, adiciona um livro pra alegrar esse lugar! (Op√ß√£o 1)");
                    } else {
                        System.out.println("   ACERVO COMPLETO (" + titulos.size() + " LIVROS):");
                        System.out.println("-----------------------------");

                        for (int i = 0; i < titulos.size(); i++) {
                            System.out.println("üìå Posi√ß√£o " + (i + 1) + ":");
                            System.out.println("üìñ T√≠tulo: " + titulos.get(i));
                            System.out.println("‚úçÔ∏è Autor: " + autores.get(i));
                            System.out.println("-----------------------------");
                        }

                        System.out.println("T√° t√£o lindo n√©?");
                    }
                    break;


                case 5:  // üö™ SAIR
                    System.out.println("\nüëã");
                    System.out.println("   Valeu por usar o sistema! At√© a pr√≥xima, leitor!");
                    System.out.println("   (Volte sempre que quiser adicionar mais livros!)");
                    break;

                default:
                    System.out.println("\nü§®");
                    System.out.println("   Op√ß√£o inv√°lida! √â de 1 a 5, lembra?");
                    System.out.println("   Vamos tentar de novo...");
            }

            // Pausa antes de voltar ao menu
            if (opcao != 5) {
                System.out.println("\n‚è≥ Pressione ENTER para continuar...");
                scanner.nextLine();
            }

        } while (opcao != 5);

        scanner.close();
    }

    private static void exibirMenu() {
        System.out.println("\n===== üìö MENU PRINCIPAL üìö =====");
        System.out.println("1. ‚ûï Adicionar novo livro");
        System.out.println("2. üîç Pesquisar livro");
        System.out.println("3. üóëÔ∏è Remover livro (cuidado: some de verdade!)");
        System.out.println("4. üìú Listar todos (pra ver essa beleza)");
        System.out.println("5. üö™ Sair (snif... at√© logo)");
        System.out.print("üëâ O que voc√™ quer fazer? ");
    }
}
